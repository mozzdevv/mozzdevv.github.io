---
import { cn } from "@/utils/cn";
import type { HTMLAttributes } from "astro/types";

export interface Props extends HTMLAttributes<"a"> {
  href?: string;
  isActive?: boolean;
}

const { href, isActive = false, class: className, ...props } = Astro.props;

const classes = cn(
  "flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm font-medium outline-none transition-colors",
  "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
  "focus-visible:ring-2 focus-visible:ring-sidebar-ring",
  isActive && "bg-sidebar-accent text-sidebar-accent-foreground",
  "[&_svg]:size-4 [&_svg]:shrink-0",
  className
);
---

{href ? (
  <a href={href} class={classes} data-sidebar-menu-button data-active={isActive ? "true" : undefined} {...props}>
    <slot />
  </a>
) : (
  <button type="button" class={classes} data-sidebar-menu-button data-active={isActive ? "true" : undefined} {...props}>
    <slot />
  </button>
)}
