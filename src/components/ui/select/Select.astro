---
import { cn } from '@/utils/cn';
import type { HTMLAttributes } from 'astro/types';

export interface Props extends HTMLAttributes<'select'> {
  id?: string;
  name?: string;
  disabled?: boolean;
  required?: boolean;
  placeholder?: string;
}

const {
  id,
  name,
  disabled = false,
  required = false,
  placeholder,
  class: className,
  ...props
} = Astro.props;

const classes = cn(
  'flex h-10 w-full items-center justify-between rounded-lg border border-input bg-background px-3 py-2 text-sm',
  'ring-offset-background',
  'placeholder:text-muted-foreground',
  'focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',
  'disabled:cursor-not-allowed disabled:opacity-50',
  '[&>span]:line-clamp-1',
  className
);
---

<select
  id={id}
  name={name}
  disabled={disabled}
  required={required}
  class={classes}
  {...props}
>
  {placeholder && (
    <option value="" disabled selected>{placeholder}</option>
  )}
  <slot />
</select>
