---
import { cn } from '@/utils/cn';
import type { HTMLAttributes } from 'astro/types';
import Search from '@lucide/astro/icons/search';

export interface Props extends HTMLAttributes<'input'> {
  placeholder?: string;
}

const { placeholder = 'Search...', class: className, ...props } = Astro.props;

const wrapperClasses = cn(
  'flex items-center gap-2 border-b px-3',
  className
);
---

<div class={wrapperClasses}>
  <Search class="size-4 shrink-0 text-muted-foreground" aria-hidden="true" />
  <input
    type="text"
    data-command-input
    role="combobox"
    aria-expanded="true"
    aria-autocomplete="list"
    aria-haspopup="listbox"
    autocomplete="off"
    autocorrect="off"
    spellcheck="false"
    class="flex h-10 w-full border-0 bg-transparent text-sm outline-none focus:ring-0 placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50"
    placeholder={placeholder}
    {...props}
  />
</div>
