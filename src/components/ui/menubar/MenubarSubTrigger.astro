---
import { cn } from "@/utils/cn";
import type { HTMLAttributes } from "astro/types";

export interface Props extends HTMLAttributes<"div"> {
  inset?: boolean;
  disabled?: boolean;
}

const { inset = false, disabled = false, class: className, ...props } = Astro.props;

const classes = cn(
  "flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none",
  "focus:bg-accent focus:text-accent-foreground",
  "data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",
  "data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
  inset && "pl-8",
  className
);
---

<div
  class={classes}
  data-menubar-sub-trigger
  data-state="closed"
  data-disabled={disabled ? "" : undefined}
  aria-expanded="false"
  aria-haspopup="menu"
  tabindex={disabled ? -1 : 0}
  {...props}
>
  <slot />
  <svg
    class="ml-auto size-4"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</div>
