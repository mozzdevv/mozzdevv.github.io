---
import { cn } from "@/utils/cn";
import type { HTMLAttributes } from "astro/types";

export interface Props extends HTMLAttributes<"button"> {
  disabled?: boolean;
  destructive?: boolean;
  inset?: boolean;
}

const {
  disabled = false,
  destructive = false,
  inset = false,
  class: className,
  ...props
} = Astro.props;

const classes = cn(
  "relative flex w-full cursor-pointer select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors",
  "focus:bg-accent focus:text-accent-foreground",
  "hover:bg-accent hover:text-accent-foreground",
  "[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
  disabled && "pointer-events-none opacity-50",
  destructive && "text-destructive focus:bg-destructive/10 focus:text-destructive hover:bg-destructive/10 hover:text-destructive",
  inset && "pl-8",
  className
);
---

<button
  type="button"
  class={classes}
  role="menuitem"
  disabled={disabled}
  tabindex={disabled ? -1 : 0}
  data-context-menu-item
  {...props}
>
  <slot />
</button>
