---
import { cn } from "@/utils/cn";
import type { HTMLAttributes } from "astro/types";

export interface Props extends HTMLAttributes<"input"> {
  id?: string;
  name?: string;
  checked?: boolean;
  disabled?: boolean;
  required?: boolean;
  value?: string;
}

const {
  id,
  name,
  checked = false,
  disabled = false,
  required = false,
  value,
  class: className,
  ...props
} = Astro.props;

const wrapperClasses = cn(
  "relative inline-flex items-center justify-center",
  "size-4 shrink-0 rounded-full border border-input",
  "ring-offset-background transition-colors",
  "focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",
  disabled && "cursor-not-allowed opacity-50",
  checked && "border-foreground",
  className
);
---

<span class={wrapperClasses}>
  <input
    type="radio"
    id={id}
    name={name}
    checked={checked}
    disabled={disabled}
    required={required}
    value={value}
    class="peer absolute inset-0 cursor-pointer opacity-0 disabled:cursor-not-allowed"
    {...props}
  />
  <span
    class={cn(
      "size-2 rounded-full bg-foreground scale-0 transition-transform",
      "peer-checked:scale-100"
    )}></span>
</span>
