---
import Badge from "@/components/ui/badge/Badge.astro";
import experienceData from "@/data/experience.json";
---

<section id="experience" class="py-20 sm:py-24">
  <div class="mx-auto max-w-4xl px-6 lg:px-8">
    <h2 class="text-3xl font-bold tracking-tight sm:text-4xl text-foreground mb-12">
      Work Experience
    </h2>

    <div class="relative space-y-0">
      <!-- Timeline line -->
      <div class="absolute left-[19px] top-2 bottom-2 w-px bg-border hidden sm:block"></div>

      {experienceData.jobs.map((job: { role: string; company: string; period: string; points: string[] }, index: number) => (
        <div class="relative flex gap-6 pb-10 last:pb-0">
          <!-- Timeline dot -->
          <div class="hidden sm:flex flex-col items-center">
            <div class={`w-10 h-10 rounded-full border-2 flex items-center justify-center shrink-0 z-10 ${index === 0 ? 'border-primary bg-primary/10' : 'border-border bg-card'}`}>
              <div class={`w-3 h-3 rounded-full ${index === 0 ? 'bg-primary' : 'bg-muted-foreground/30'}`}></div>
            </div>
          </div>

          <!-- Content -->
          <div class="flex-1 rounded-xl border border-border bg-card p-6 shadow-sm hover:shadow-md transition-shadow">
            <div class="flex flex-wrap items-start justify-between gap-2 mb-3">
              <div>
                <h3 class="text-lg font-semibold text-foreground">{job.role}</h3>
                <p class="text-sm font-medium text-primary">{job.company}</p>
              </div>
              <Badge variant="secondary" class="text-xs shrink-0">
                {job.period}
              </Badge>
            </div>
            <ul class="space-y-2">
              {job.points.map((point: string) => (
                <li class="text-sm text-muted-foreground flex gap-2">
                  <span class="text-primary mt-1.5 shrink-0">â€¢</span>
                  <span>{point}</span>
                </li>
              ))}
            </ul>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
