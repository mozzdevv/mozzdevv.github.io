---
import ChevronLeft from "@lucide/astro/icons/chevron-left";
import ChevronRight from "@lucide/astro/icons/chevron-right";

export interface Props {
  prevPage?: { href: string; title: string } | null;
  nextPage?: { href: string; title: string } | null;
  nextTagline?: string | null;
}

const { prevPage, nextPage, nextTagline } = Astro.props;

// Don't render if no pages
if (!prevPage && !nextPage) {
  return;
}
---

<nav class="mt-16">
  <div class="w-full rounded-2xl flex bg-muted/50 p-1 text-sm">
    {/* Previous */}
    {
      prevPage ? (
        <a
          class="group flex items-center justify-between pl-3 pr-6 gap-1.5"
          href={prevPage.href}
          data-pagination-prev
        >
          <ChevronLeft
            class="size-3 text-muted-foreground/50 group-hover:text-muted-foreground"
            stroke-width="3"
          />
          <span class="text-muted-foreground font-medium tracking-tight group-hover:text-foreground">
            Previous
          </span>
        </a>
      ) : (
        <div class="flex items-center justify-between pl-3 pr-6 gap-1.5 opacity-50">
          <ChevronLeft class="size-3 text-muted-foreground/50" stroke-width="3" />
          <span class="text-muted-foreground font-medium tracking-tight">
            Previous
          </span>
        </div>
      )
    }

    {/* Next - takes remaining space */}
    {
      nextPage ? (
        <a class="group w-full" href={nextPage.href} data-pagination-next>
          <div class="flex-1 flex items-center justify-end h-16 bg-background hover:ring-1 hover:ring-border rounded-xl">
            <div class="flex flex-col items-end justify-center px-5 min-w-0">
              <span class="font-semibold text-foreground text-right">
                {nextPage.title}
              </span>
              {nextTagline && (
                <span class="hidden lg:block text-right text-muted-foreground w-full truncate max-w-72">
                  {nextTagline}
                </span>
              )}
            </div>
            <div class="w-px h-8 bg-border" />
            <div class="pl-5 pr-3 text-muted-foreground flex items-center gap-1.5">
              <span class="text-muted-foreground font-medium tracking-tight group-hover:text-foreground">
                Next
              </span>
              <ChevronRight
                class="size-3 text-muted-foreground/50 group-hover:text-muted-foreground"
                stroke-width="3"
              />
            </div>
          </div>
        </a>
      ) : (
        <div class="w-full">
          <div class="flex-1 flex items-center justify-end h-16 bg-background rounded-xl opacity-50">
            <div class="flex flex-col items-end justify-center px-5 min-w-0">
              <span class="font-semibold text-foreground text-right">
                You're at the end
              </span>
            </div>
            <div class="w-px h-8 bg-border" />
            <div class="pl-5 pr-3 text-muted-foreground flex items-center gap-1.5">
              <span class="text-muted-foreground font-medium tracking-tight">
                Next
              </span>
              <ChevronRight class="size-3 text-muted-foreground/50" stroke-width="3" />
            </div>
          </div>
        </div>
      )
    }
  </div>
</nav>
