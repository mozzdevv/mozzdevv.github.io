---
import Meta from "@/components/fundations/head/Meta.astro";
import Fonts from "@/components/fundations/head/Fonts.astro";
import Favicons from "@/components/fundations/head/Favicons.astro";
import StructuredData from "@/components/fundations/head/StructuredData.astro";

export interface Props {
  structuredData?: Record<string, any>;
}

const { structuredData } = Astro.props;
---

<Meta />
<Fonts />
<Favicons />
<StructuredData data={structuredData} />
<slot />
<script is:inline>
  (function () {
    const getSystemTheme = () =>
      window.matchMedia("(prefers-color-scheme: dark)").matches
        ? "dark"
        : "light";
    const stored = localStorage.getItem("theme") || "system";
    const resolved = stored === "system" ? getSystemTheme() : stored;
    document.documentElement.classList.toggle("dark", resolved === "dark");
  })();
</script>
