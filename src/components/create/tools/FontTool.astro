---
import DropdownMenu from "@/components/ui/dropdown-menu/DropdownMenu.astro";
import DropdownMenuTrigger from "@/components/ui/dropdown-menu/DropdownMenuTrigger.astro";
import DropdownMenuContent from "@/components/ui/dropdown-menu/DropdownMenuContent.astro";
import DropdownMenuItem from "@/components/ui/dropdown-menu/DropdownMenuItem.astro";
import Check from "@lucide/astro/icons/check";
import Baseline from "@lucide/astro/icons/baseline";
import { fontOptions, fontFamilies } from "../data/fonts";

const sampleText = "Accessible components for Astro and Tailwind CSS.";
---

<DropdownMenu class="block w-full" keepOpen>
  <DropdownMenuTrigger class="w-full">
    <div
      class="flex items-center gap-2 py-3 px-2 rounded-md hover:bg-accent cursor-pointer transition-colors w-full"
    >
      <div class="bg-muted p-2 rounded">
        <Baseline class="size-4 text-muted-foreground" />
      </div>
      <div class="text-left">
        <div class="text-xs text-muted-foreground">Font</div>
        <div id="font-label" class="text-sm font-medium text-foreground">
          Inter
        </div>
      </div>
    </div>
  </DropdownMenuTrigger>
  <DropdownMenuContent side="left" class="w-80 p-2">
    {
      fontOptions.map((opt) => (
        <DropdownMenuItem
          data-font={opt.value}
          class="flex-col items-start gap-1 py-3 text-left"
        >
          <div class="flex items-center justify-between w-full">
            <span class="text-sm text-foreground">{opt.name}</span>
            <Check class="size-4 opacity-0" data-check />
          </div>
          <p
            class="text-xs text-muted-foreground leading-snug"
            style={`font-family: ${fontFamilies[opt.value]};`}
          >
            {sampleText}
          </p>
        </DropdownMenuItem>
      ))
    }
  </DropdownMenuContent>
</DropdownMenu>
