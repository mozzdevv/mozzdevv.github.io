{
  "name": "sidebar",
  "description": "A collapsible sidebar navigation",
  "category": "navigation",
  "dependencies": [],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "name": "Sidebar.astro",
      "path": "sidebar/Sidebar.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"aside\"> {\n  side?: \"left\" | \"right\";\n  collapsible?: boolean;\n  defaultOpen?: boolean;\n}\n\nconst { \n  side = \"left\", \n  collapsible = true,\n  defaultOpen = true,\n  class: className, \n  ...props \n} = Astro.props;\n\nconst classes = cn(\n  \"flex h-full w-64 flex-col bg-sidebar text-sidebar-foreground border-sidebar-border\",\n  side === \"left\" ? \"border-r\" : \"border-l\",\n  className\n);\n---\n\n<aside\n  class={classes}\n  data-sidebar\n  data-side={side}\n  data-state={defaultOpen ? \"open\" : \"closed\"}\n  data-collapsible={collapsible ? \"true\" : \"false\"}\n  {...props}\n>\n  <slot />\n</aside>\n\n<script>\n  function initSidebars() {\n    document.querySelectorAll(\"[data-sidebar]\").forEach((sidebar) => {\n      if (sidebar.hasAttribute(\"data-initialized\")) return;\n      sidebar.setAttribute(\"data-initialized\", \"true\");\n\n      // Handle responsive behavior\n      const checkMobile = () => {\n        const isMobile = window.innerWidth < 768;\n        sidebar.setAttribute(\"data-mobile\", isMobile ? \"true\" : \"false\");\n        \n        // On mobile, sidebar starts closed\n        if (isMobile && sidebar.getAttribute(\"data-state\") === \"open\") {\n          sidebar.setAttribute(\"data-state\", \"closed\");\n        }\n      };\n\n      checkMobile();\n      window.addEventListener(\"resize\", checkMobile);\n    });\n  }\n\n  initSidebars();\n  document.addEventListener(\"astro:page-load\", initSidebars);\n</script>\n\n<style>\n  [data-sidebar] {\n    transition: width 0.2s ease-in-out, transform 0.2s ease-in-out;\n  }\n\n  [data-sidebar][data-state=\"closed\"][data-collapsible=\"true\"] {\n    width: 0;\n    overflow: hidden;\n  }\n\n  /* Mobile styles */\n  @media (max-width: 767px) {\n    [data-sidebar] {\n      position: fixed;\n      top: 0;\n      bottom: 0;\n      z-index: 50;\n    }\n\n    [data-sidebar][data-side=\"left\"] {\n      left: 0;\n    }\n\n    [data-sidebar][data-side=\"right\"] {\n      right: 0;\n    }\n\n    [data-sidebar][data-state=\"closed\"] {\n      transform: translateX(-100%);\n    }\n\n    [data-sidebar][data-side=\"right\"][data-state=\"closed\"] {\n      transform: translateX(100%);\n    }\n  }\n</style>\n"
    },
    {
      "name": "SidebarContent.astro",
      "path": "sidebar/SidebarContent.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {}\n\nconst { class: className, ...props } = Astro.props;\n\nconst classes = cn(\n  \"flex flex-1 flex-col gap-4 overflow-y-auto p-4\",\n  className\n);\n---\n\n<div class={classes} data-sidebar-content {...props}>\n  <slot />\n</div>\n"
    },
    {
      "name": "SidebarFooter.astro",
      "path": "sidebar/SidebarFooter.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {}\n\nconst { class: className, ...props } = Astro.props;\n\nconst classes = cn(\n  \"flex flex-col gap-2 p-4\",\n  className\n);\n---\n\n<div class={classes} data-sidebar-footer {...props}>\n  <slot />\n</div>\n"
    },
    {
      "name": "SidebarGroup.astro",
      "path": "sidebar/SidebarGroup.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {}\n\nconst { class: className, ...props } = Astro.props;\n\nconst classes = cn(\n  \"flex flex-col gap-1\",\n  className\n);\n---\n\n<div class={classes} data-sidebar-group {...props}>\n  <slot />\n</div>\n"
    },
    {
      "name": "SidebarGroupLabel.astro",
      "path": "sidebar/SidebarGroupLabel.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {}\n\nconst { class: className, ...props } = Astro.props;\n\nconst classes = cn(\n  \"px-2 py-1 text-xs font-medium text-sidebar-foreground/70\",\n  className\n);\n---\n\n<div class={classes} data-sidebar-group-label {...props}>\n  <slot />\n</div>\n"
    },
    {
      "name": "SidebarHeader.astro",
      "path": "sidebar/SidebarHeader.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {}\n\nconst { class: className, ...props } = Astro.props;\n\nconst classes = cn(\n  \"flex flex-col gap-2 p-4\",\n  className\n);\n---\n\n<div class={classes} data-sidebar-header {...props}>\n  <slot />\n</div>\n"
    },
    {
      "name": "SidebarMenu.astro",
      "path": "sidebar/SidebarMenu.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"ul\"> {}\n\nconst { class: className, ...props } = Astro.props;\n\nconst classes = cn(\n  \"flex flex-col gap-0.5\",\n  className\n);\n---\n\n<ul class={classes} data-sidebar-menu {...props}>\n  <slot />\n</ul>\n"
    },
    {
      "name": "SidebarMenuButton.astro",
      "path": "sidebar/SidebarMenuButton.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"a\"> {\n  href?: string;\n  isActive?: boolean;\n}\n\nconst { href, isActive = false, class: className, ...props } = Astro.props;\n\nconst classes = cn(\n  \"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm font-medium outline-none transition-colors\",\n  \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n  \"focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n  isActive && \"bg-sidebar-accent text-sidebar-accent-foreground\",\n  \"[&_svg]:size-4 [&_svg]:shrink-0\",\n  className\n);\n---\n\n{href ? (\n  <a href={href} class={classes} data-sidebar-menu-button data-active={isActive ? \"true\" : undefined} {...props}>\n    <slot />\n  </a>\n) : (\n  <button type=\"button\" class={classes} data-sidebar-menu-button data-active={isActive ? \"true\" : undefined} {...props}>\n    <slot />\n  </button>\n)}\n"
    },
    {
      "name": "SidebarMenuItem.astro",
      "path": "sidebar/SidebarMenuItem.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"li\"> {}\n\nconst { class: className, ...props } = Astro.props;\n\nconst classes = cn(\"\", className);\n---\n\n<li class={classes} data-sidebar-menu-item {...props}>\n  <slot />\n</li>\n"
    },
    {
      "name": "SidebarSeparator.astro",
      "path": "sidebar/SidebarSeparator.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {}\n\nconst { class: className, ...props } = Astro.props;\n\nconst classes = cn(\n  \"mx-2 h-px bg-sidebar-border\",\n  className\n);\n---\n\n<div class={classes} role=\"separator\" {...props} />\n"
    },
    {
      "name": "SidebarTrigger.astro",
      "path": "sidebar/SidebarTrigger.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\nimport PanelLeft from \"@lucide/astro/icons/panel-left\";\n\nexport interface Props extends HTMLAttributes<\"button\"> {\n  for?: string;\n}\n\nconst { for: sidebarId, class: className, ...props } = Astro.props;\n\nconst classes = cn(\n  \"inline-flex size-8 items-center justify-center rounded-md text-sm font-medium transition-colors\",\n  \"hover:bg-accent hover:text-accent-foreground\",\n  \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\",\n  className\n);\n---\n\n<button\n  type=\"button\"\n  class={classes}\n  data-sidebar-trigger\n  data-target={sidebarId}\n  aria-label=\"Toggle sidebar\"\n  {...props}\n>\n  <slot>\n    <PanelLeft class=\"size-4\" />\n  </slot>\n</button>\n\n<script>\n  function initSidebarTriggers() {\n    document.querySelectorAll(\"[data-sidebar-trigger]\").forEach((trigger) => {\n      if (trigger.hasAttribute(\"data-trigger-initialized\")) return;\n      trigger.setAttribute(\"data-trigger-initialized\", \"true\");\n\n      trigger.addEventListener(\"click\", () => {\n        // Find the sidebar - by target ID, or in same container, or nearest one\n        const targetId = trigger.getAttribute(\"data-target\");\n        let sidebar = null;\n        \n        if (targetId) {\n          sidebar = document.querySelector(`[data-sidebar][id=\"${targetId}\"]`);\n        } else {\n          // Look for sidebar in the same parent container first\n          const container = trigger.closest('.flex, [data-preview], [class*=\"border\"]');\n          if (container) {\n            sidebar = container.querySelector(\"[data-sidebar]\");\n          }\n          // Fallback to any sidebar on page\n          if (!sidebar) {\n            sidebar = document.querySelector(\"[data-sidebar]\");\n          }\n        }\n\n        if (sidebar) {\n          const currentState = sidebar.getAttribute(\"data-state\");\n          const newState = currentState === \"open\" ? \"closed\" : \"open\";\n          sidebar.setAttribute(\"data-state\", newState);\n\n          // Dispatch custom event\n          sidebar.dispatchEvent(new CustomEvent(\"sidebar-toggle\", {\n            detail: { open: newState === \"open\" }\n          }));\n        }\n      });\n    });\n  }\n\n  initSidebarTriggers();\n  document.addEventListener(\"astro:page-load\", initSidebarTriggers);\n</script>\n"
    }
  ]
}
