{
  "name": "switch",
  "description": "A toggle control for boolean values",
  "category": "form",
  "dependencies": [],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "name": "Switch.astro",
      "path": "switch/Switch.astro",
      "content": "---\nimport { cn } from '@/utils/cn';\nimport type { HTMLAttributes } from 'astro/types';\n\nexport interface Props extends HTMLAttributes<'button'> {\n  id?: string;\n  name?: string;\n  checked?: boolean;\n  disabled?: boolean;\n}\n\nconst {\n  id,\n  name,\n  checked = false,\n  disabled = false,\n  class: className,\n  ...props\n} = Astro.props;\n\nconst trackClasses = cn(\n  'peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent',\n  'transition-colors',\n  'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background',\n  'disabled:cursor-not-allowed disabled:opacity-50',\n  'data-[state=checked]:bg-primary data-[state=unchecked]:bg-input',\n  className\n);\n\nconst thumbClasses = cn(\n  'pointer-events-none block size-5 rounded-full bg-background shadow-lg ring-0',\n  'transition-transform',\n  'data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0'\n);\n---\n\n<button\n  type=\"button\"\n  role=\"switch\"\n  aria-checked={checked}\n  data-state={checked ? 'checked' : 'unchecked'}\n  id={id}\n  disabled={disabled}\n  class={trackClasses}\n  data-switch\n  {...props}\n>\n  <span class={thumbClasses} data-state={checked ? 'checked' : 'unchecked'} />\n  {name && <input type=\"hidden\" name={name} value={checked ? 'on' : 'off'} data-switch-input />}\n</button>\n\n<script>\n  document.querySelectorAll('[data-switch]').forEach((switchEl) => {\n    switchEl.addEventListener('click', () => {\n      const isChecked = switchEl.getAttribute('aria-checked') === 'true';\n      const newState = !isChecked;\n\n      switchEl.setAttribute('aria-checked', String(newState));\n      switchEl.setAttribute('data-state', newState ? 'checked' : 'unchecked');\n\n      const thumb = switchEl.querySelector('span');\n      if (thumb) {\n        thumb.setAttribute('data-state', newState ? 'checked' : 'unchecked');\n      }\n\n      const hiddenInput = switchEl.querySelector('[data-switch-input]') as HTMLInputElement;\n      if (hiddenInput) {\n        hiddenInput.value = newState ? 'on' : 'off';\n      }\n\n      switchEl.dispatchEvent(new CustomEvent('change', { detail: { checked: newState } }));\n    });\n  });\n</script>\n"
    }
  ]
}
