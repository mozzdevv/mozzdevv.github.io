{
  "name": "context-menu",
  "description": "A menu triggered by right-click",
  "category": "navigation",
  "dependencies": [],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "name": "ContextMenu.astro",
      "path": "context-menu/ContextMenu.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {}\n\nconst { class: className, ...props } = Astro.props;\n---\n\n<div class={cn(\"relative\", className)} data-context-menu {...props}>\n  <slot />\n</div>\n\n<script>\n  function initContextMenus() {\n    document.querySelectorAll(\"[data-context-menu]\").forEach((menu) => {\n      if (menu.hasAttribute(\"data-initialized\")) return;\n      menu.setAttribute(\"data-initialized\", \"true\");\n\n      const trigger = menu.querySelector(\"[data-context-menu-trigger]\");\n      const content = menu.querySelector(\"[data-context-menu-content]\") as HTMLElement;\n\n      if (!trigger || !content) return;\n\n      // Right-click to open\n      trigger.addEventListener(\"contextmenu\", (e) => {\n        e.preventDefault();\n        \n        // Close any other open context menus\n        document.querySelectorAll(\"[data-context-menu-content]\").forEach((c) => {\n          if (c !== content) (c as HTMLElement).hidden = true;\n        });\n\n        // Position at cursor\n        const x = (e as MouseEvent).clientX;\n        const y = (e as MouseEvent).clientY;\n\n        content.style.position = \"fixed\";\n        content.style.left = `${x}px`;\n        content.style.top = `${y}px`;\n        content.hidden = false;\n\n        // Adjust if menu goes off-screen\n        requestAnimationFrame(() => {\n          const rect = content.getBoundingClientRect();\n          const viewportWidth = window.innerWidth;\n          const viewportHeight = window.innerHeight;\n\n          if (rect.right > viewportWidth) {\n            content.style.left = `${viewportWidth - rect.width - 8}px`;\n          }\n          if (rect.bottom > viewportHeight) {\n            content.style.top = `${viewportHeight - rect.height - 8}px`;\n          }\n        });\n      });\n\n      // Close on click outside\n      document.addEventListener(\"click\", (e) => {\n        if (!content.contains(e.target as Node)) {\n          content.hidden = true;\n        }\n      });\n\n      // Close on right-click outside trigger\n      document.addEventListener(\"contextmenu\", (e) => {\n        if (!trigger.contains(e.target as Node) && !content.hidden) {\n          content.hidden = true;\n        }\n      });\n\n      // Close on Escape\n      document.addEventListener(\"keydown\", (e) => {\n        if (e.key === \"Escape\" && !content.hidden) {\n          content.hidden = true;\n        }\n      });\n\n      // Close on scroll\n      document.addEventListener(\"scroll\", () => {\n        if (!content.hidden) {\n          content.hidden = true;\n        }\n      });\n\n      // Handle item clicks\n      content.querySelectorAll(\"[data-context-menu-item]\").forEach((item) => {\n        item.addEventListener(\"click\", () => {\n          content.hidden = true;\n        });\n      });\n\n      // Keyboard navigation\n      content.addEventListener(\"keydown\", (e) => {\n        const event = e as KeyboardEvent;\n        const items = Array.from(content.querySelectorAll(\"[data-context-menu-item]:not([disabled])\"));\n        const currentIndex = items.indexOf(document.activeElement as Element);\n\n        if (event.key === \"ArrowDown\") {\n          event.preventDefault();\n          const nextIndex = currentIndex < items.length - 1 ? currentIndex + 1 : 0;\n          (items[nextIndex] as HTMLElement).focus();\n        } else if (event.key === \"ArrowUp\") {\n          event.preventDefault();\n          const prevIndex = currentIndex > 0 ? currentIndex - 1 : items.length - 1;\n          (items[prevIndex] as HTMLElement).focus();\n        }\n      });\n    });\n  }\n\n  initContextMenus();\n  document.addEventListener(\"astro:page-load\", initContextMenus);\n</script>\n"
    },
    {
      "name": "ContextMenuContent.astro",
      "path": "context-menu/ContextMenuContent.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {}\n\nconst { class: className, ...props } = Astro.props;\n\nconst classes = cn(\n  \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n  \"animate-in fade-in-0 zoom-in-95\",\n  className\n);\n---\n\n<div\n  class={classes}\n  data-context-menu-content\n  role=\"menu\"\n  hidden\n  {...props}\n>\n  <slot />\n</div>\n"
    },
    {
      "name": "ContextMenuItem.astro",
      "path": "context-menu/ContextMenuItem.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"button\"> {\n  disabled?: boolean;\n  destructive?: boolean;\n  inset?: boolean;\n}\n\nconst {\n  disabled = false,\n  destructive = false,\n  inset = false,\n  class: className,\n  ...props\n} = Astro.props;\n\nconst classes = cn(\n  \"relative flex w-full cursor-pointer select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors\",\n  \"focus:bg-accent focus:text-accent-foreground\",\n  \"hover:bg-accent hover:text-accent-foreground\",\n  \"[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  disabled && \"pointer-events-none opacity-50\",\n  destructive && \"text-destructive focus:bg-destructive/10 focus:text-destructive hover:bg-destructive/10 hover:text-destructive\",\n  inset && \"pl-8\",\n  className\n);\n---\n\n<button\n  type=\"button\"\n  class={classes}\n  role=\"menuitem\"\n  disabled={disabled}\n  tabindex={disabled ? -1 : 0}\n  data-context-menu-item\n  {...props}\n>\n  <slot />\n</button>\n"
    },
    {
      "name": "ContextMenuLabel.astro",
      "path": "context-menu/ContextMenuLabel.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {\n  inset?: boolean;\n}\n\nconst { inset = false, class: className, ...props } = Astro.props;\n\nconst classes = cn(\n  \"px-2 py-1.5 text-xs font-semibold text-muted-foreground\",\n  inset && \"pl-8\",\n  className\n);\n---\n\n<div class={classes} {...props}>\n  <slot />\n</div>\n"
    },
    {
      "name": "ContextMenuSeparator.astro",
      "path": "context-menu/ContextMenuSeparator.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {}\n\nconst { class: className, ...props } = Astro.props;\n---\n\n<div\n  class={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n  role=\"separator\"\n  {...props}\n/>\n"
    },
    {
      "name": "ContextMenuShortcut.astro",
      "path": "context-menu/ContextMenuShortcut.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"span\"> {}\n\nconst { class: className, ...props } = Astro.props;\n---\n\n<span\n  class={cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className)}\n  {...props}\n>\n  <slot />\n</span>\n"
    },
    {
      "name": "ContextMenuTrigger.astro",
      "path": "context-menu/ContextMenuTrigger.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {}\n\nconst { class: className, ...props } = Astro.props;\n---\n\n<div\n  class={cn(\"\", className)}\n  data-context-menu-trigger\n  {...props}\n>\n  <slot />\n</div>\n"
    }
  ]
}
