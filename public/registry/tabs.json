{
  "name": "tabs",
  "description": "Organizes content into tabbed sections",
  "category": "navigation",
  "dependencies": [],
  "devDependencies": [],
  "registryDependencies": [
    "focus-trap"
  ],
  "files": [
    {
      "name": "Tabs.astro",
      "path": "tabs/Tabs.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {\n  defaultValue?: string;\n  orientation?: \"horizontal\" | \"vertical\";\n}\n\nconst {\n  defaultValue,\n  orientation = \"horizontal\",\n  class: className,\n  ...props\n} = Astro.props;\n\nconst classes = cn(\n  \"w-full\",\n  orientation === \"vertical\" && \"grid grid-cols-1 lg:grid-cols-2 gap-4\",\n  className\n);\n---\n\n<div\n  class={classes}\n  data-tabs\n  data-default-value={defaultValue}\n  data-orientation={orientation}\n  {...props}\n>\n  <slot />\n</div>\n\n<script>\n  import { generateId } from '@/utils/focus-trap';\n\n  function initTabs() {\n    document.querySelectorAll(\"[data-tabs]\").forEach((tabs) => {\n      if (tabs.hasAttribute(\"data-initialized\")) return;\n      tabs.setAttribute(\"data-initialized\", \"true\");\n\n      const defaultValue = tabs.getAttribute(\"data-default-value\");\n      const orientation = tabs.getAttribute(\"data-orientation\") || \"horizontal\";\n      \n      const tabsList = tabs.querySelector(\"[data-tabs-list]\") as HTMLElement;\n      const triggers = Array.from(tabs.querySelectorAll(\"[data-tabs-trigger]\")) as HTMLElement[];\n      const contents = Array.from(tabs.querySelectorAll(\"[data-tabs-content]\")) as HTMLElement[];\n\n      // Set aria-orientation on tablist\n      if (tabsList) {\n        tabsList.setAttribute(\"data-orientation\", orientation);\n        tabsList.setAttribute(\"aria-orientation\", orientation);\n      }\n      \n      // Generate IDs and set up ARIA relationships\n      triggers.forEach((trigger) => {\n        trigger.setAttribute(\"data-orientation\", orientation);\n        const value = trigger.getAttribute(\"data-value\");\n        \n        // Generate IDs if not present\n        if (!trigger.id) {\n          trigger.id = generateId(`tab-${value}`);\n        }\n        \n        // Find matching content and link them\n        const matchingContent = contents.find(c => c.getAttribute(\"data-value\") === value);\n        if (matchingContent) {\n          if (!matchingContent.id) {\n            matchingContent.id = generateId(`tabpanel-${value}`);\n          }\n          trigger.setAttribute(\"aria-controls\", matchingContent.id);\n          matchingContent.setAttribute(\"aria-labelledby\", trigger.id);\n        }\n      });\n\n      // Initialize default tab\n      let activeIndex = 0;\n      if (defaultValue) {\n        triggers.forEach((trigger, index) => {\n          const value = trigger.getAttribute(\"data-value\");\n          if (value === defaultValue) {\n            trigger.setAttribute(\"data-state\", \"active\");\n            trigger.setAttribute(\"aria-selected\", \"true\");\n            trigger.setAttribute(\"tabindex\", \"0\");\n            activeIndex = index;\n          } else {\n            trigger.setAttribute(\"data-state\", \"inactive\");\n            trigger.setAttribute(\"aria-selected\", \"false\");\n            trigger.setAttribute(\"tabindex\", \"-1\");\n          }\n        });\n\n        contents.forEach((content) => {\n          const value = content.getAttribute(\"data-value\");\n          if (value === defaultValue) {\n            content.setAttribute(\"data-state\", \"active\");\n            content.hidden = false;\n          } else {\n            content.setAttribute(\"data-state\", \"inactive\");\n            content.hidden = true;\n          }\n        });\n      }\n\n      // Activate tab function\n      const activateTab = (trigger: HTMLElement) => {\n        const value = trigger.getAttribute(\"data-value\");\n\n        // Update all triggers\n        triggers.forEach((t) => {\n          const isActive = t.getAttribute(\"data-value\") === value;\n          t.setAttribute(\"data-state\", isActive ? \"active\" : \"inactive\");\n          t.setAttribute(\"aria-selected\", String(isActive));\n          t.setAttribute(\"tabindex\", isActive ? \"0\" : \"-1\");\n        });\n\n        // Update all contents\n        contents.forEach((content) => {\n          const isActive = content.getAttribute(\"data-value\") === value;\n          content.setAttribute(\"data-state\", isActive ? \"active\" : \"inactive\");\n          content.hidden = !isActive;\n        });\n\n        trigger.focus();\n      };\n\n      // Handle tab clicks\n      triggers.forEach((trigger) => {\n        trigger.addEventListener(\"click\", () => activateTab(trigger));\n      });\n\n      // Keyboard navigation\n      tabsList?.addEventListener(\"keydown\", (e: KeyboardEvent) => {\n        const currentIndex = triggers.findIndex(t => t === document.activeElement);\n        if (currentIndex === -1) return;\n\n        let nextIndex = currentIndex;\n        const isHorizontal = orientation === \"horizontal\";\n\n        switch (e.key) {\n          case \"ArrowRight\":\n            if (isHorizontal) {\n              e.preventDefault();\n              nextIndex = (currentIndex + 1) % triggers.length;\n            }\n            break;\n          case \"ArrowLeft\":\n            if (isHorizontal) {\n              e.preventDefault();\n              nextIndex = (currentIndex - 1 + triggers.length) % triggers.length;\n            }\n            break;\n          case \"ArrowDown\":\n            if (!isHorizontal) {\n              e.preventDefault();\n              nextIndex = (currentIndex + 1) % triggers.length;\n            }\n            break;\n          case \"ArrowUp\":\n            if (!isHorizontal) {\n              e.preventDefault();\n              nextIndex = (currentIndex - 1 + triggers.length) % triggers.length;\n            }\n            break;\n          case \"Home\":\n            e.preventDefault();\n            nextIndex = 0;\n            break;\n          case \"End\":\n            e.preventDefault();\n            nextIndex = triggers.length - 1;\n            break;\n          default:\n            return;\n        }\n\n        if (nextIndex !== currentIndex) {\n          activateTab(triggers[nextIndex]);\n        }\n      });\n    });\n  }\n\n  initTabs();\n  document.addEventListener(\"astro:page-load\", initTabs);\n</script>\n"
    },
    {
      "name": "TabsContent.astro",
      "path": "tabs/TabsContent.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {\n  value: string;\n}\n\nconst { value, class: className, ...props } = Astro.props;\n\nconst classes = cn(\n  \"mt-2 ring-offset-background\",\n  \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n  className\n);\n---\n\n<div\n  role=\"tabpanel\"\n  class={classes}\n  data-tabs-content\n  data-value={value}\n  data-state=\"inactive\"\n  tabindex=\"0\"\n  hidden\n  {...props}\n>\n  <slot />\n</div>\n"
    },
    {
      "name": "TabsList.astro",
      "path": "tabs/TabsList.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {}\n\nconst {\n  class: className,\n  ...props\n} = Astro.props;\n\nconst classes = cn(\n  \"flex w-fit h-10 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground gap-1\",\n  className\n);\n---\n\n<div\n  role=\"tablist\"\n  class={classes}\n  data-tabs-list\n  {...props}\n>\n  <slot />\n</div>\n\n<style>\n  :global([data-tabs-list][data-orientation=\"vertical\"]) {\n    display: flex;\n    flex-direction: column;\n    height: auto;\n    width: 100%;\n  }\n</style>\n"
    },
    {
      "name": "TabsTrigger.astro",
      "path": "tabs/TabsTrigger.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"button\"> {\n  value: string;\n}\n\nconst { value, class: className, ...props } = Astro.props;\n\nconst classes = cn(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5\",\n  \"text-sm font-medium text-muted-foreground ring-offset-background transition-all\",\n  \"hover:text-foreground\",\n  \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n  \"disabled:pointer-events-none disabled:opacity-50\",\n  \"data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n  className\n);\n---\n\n<button\n  type=\"button\"\n  role=\"tab\"\n  class={classes}\n  data-tabs-trigger\n  data-value={value}\n  data-state=\"inactive\"\n  aria-selected=\"false\"\n  tabindex=\"-1\"\n  {...props}\n>\n  <slot />\n</button>\n\n<style>\n  :global([data-tabs-trigger][data-orientation=\"vertical\"]) {\n    width: 100%;\n    justify-content: flex-start;\n  }\n</style>\n"
    }
  ]
}
