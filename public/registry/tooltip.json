{
  "name": "tooltip",
  "description": "A popup that displays information on hover or focus",
  "category": "display",
  "dependencies": [],
  "devDependencies": [],
  "registryDependencies": [
    "focus-trap"
  ],
  "files": [
    {
      "name": "Tooltip.astro",
      "path": "tooltip/Tooltip.astro",
      "content": "---\nimport { cn } from '@/utils/cn';\nimport type { HTMLAttributes } from 'astro/types';\n\nexport interface Props extends HTMLAttributes<'div'> {}\n\nconst { class: className, ...props } = Astro.props;\n---\n\n<div class={cn('relative inline-block', className)} data-tooltip {...props}>\n  <slot />\n</div>\n\n<script>\n  import { generateId } from '@/utils/focus-trap';\n\n  function initTooltips() {\n    document.querySelectorAll('[data-tooltip]').forEach((tooltip) => {\n      if (tooltip.hasAttribute('data-initialized')) return;\n      tooltip.setAttribute('data-initialized', 'true');\n\n      const trigger = tooltip.querySelector('[data-tooltip-trigger]') as HTMLElement;\n      const content = tooltip.querySelector('[data-tooltip-content]') as HTMLElement;\n\n      if (!trigger || !content) return;\n\n      // Generate ID for content if not present\n      if (!content.id) {\n        content.id = generateId('tooltip');\n      }\n\n      // Link trigger to content via aria-describedby\n      trigger.setAttribute('aria-describedby', content.id);\n\n      const showTooltip = () => {\n        content.hidden = false;\n      };\n\n      const hideTooltip = () => {\n        content.hidden = true;\n      };\n\n      trigger.addEventListener('mouseenter', showTooltip);\n      trigger.addEventListener('mouseleave', hideTooltip);\n      trigger.addEventListener('focus', showTooltip);\n      trigger.addEventListener('blur', hideTooltip);\n\n      // Hide on Escape\n      trigger.addEventListener('keydown', (e: KeyboardEvent) => {\n        if (e.key === 'Escape') {\n          hideTooltip();\n        }\n      });\n    });\n  }\n\n  initTooltips();\n  document.addEventListener('astro:page-load', initTooltips);\n</script>\n"
    },
    {
      "name": "TooltipContent.astro",
      "path": "tooltip/TooltipContent.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {\n  side?: \"top\" | \"right\" | \"bottom\" | \"left\";\n  id?: string;\n}\n\nconst { side = \"top\", class: className, id, ...props } = Astro.props;\n\nconst sideStyles = {\n  top: \"bottom-full left-1/2 -translate-x-1/2 mb-2\",\n  right: \"left-full top-1/2 -translate-y-1/2 ml-2\",\n  bottom: \"top-full left-1/2 -translate-x-1/2 mt-2\",\n  left: \"right-full top-1/2 -translate-y-1/2 mr-2\",\n};\n\nconst classes = cn(\n  \"absolute z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md whitespace-nowrap\",\n  sideStyles[side],\n  className,\n);\n---\n\n<div class={classes} data-tooltip-content role=\"tooltip\" id={id} hidden {...props}>\n  <slot />\n</div>\n"
    },
    {
      "name": "TooltipTrigger.astro",
      "path": "tooltip/TooltipTrigger.astro",
      "content": "---\nimport { cn } from '@/utils/cn';\nimport type { HTMLAttributes } from 'astro/types';\n\nexport interface Props extends HTMLAttributes<'span'> {}\n\nconst { class: className, ...props } = Astro.props;\n---\n\n<span class={cn('cursor-default', className)} data-tooltip-trigger tabindex=\"0\" {...props}>\n  <slot />\n</span>\n"
    }
  ]
}
