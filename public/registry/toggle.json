{
  "name": "toggle",
  "description": "A two-state button",
  "category": "form",
  "dependencies": [],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "name": "Toggle.astro",
      "path": "toggle/Toggle.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"button\"> {\n  variant?: \"default\" | \"outline\";\n  size?: \"sm\" | \"default\" | \"lg\";\n  pressed?: boolean;\n  disabled?: boolean;\n}\n\nconst {\n  variant = \"default\",\n  size = \"default\",\n  pressed = false,\n  disabled = false,\n  class: className,\n  ...props\n} = Astro.props;\n\nconst baseClasses = cn(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium\",\n  \"ring-offset-background transition-colors\",\n  \"hover:bg-muted hover:text-muted-foreground\",\n  \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n  \"disabled:pointer-events-none disabled:opacity-50\",\n  \"[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  // Pressed state - must come after hover to take precedence\n  \"data-[state=on]:bg-accent data-[state=on]:text-accent-foreground\"\n);\n\nconst variantClasses = {\n  default: \"border border-input bg-transparent\",\n  outline: \"border border-input bg-transparent\",\n};\n\nconst sizeClasses = {\n  sm: \"h-8 px-2 min-w-8\",\n  default: \"h-9 px-2.5 min-w-9\",\n  lg: \"h-10 px-3 min-w-10\",\n};\n\nconst classes = cn(\n  baseClasses,\n  variantClasses[variant],\n  sizeClasses[size],\n  className\n);\n---\n\n<button\n  type=\"button\"\n  data-toggle\n  data-state={pressed ? \"on\" : \"off\"}\n  aria-pressed={pressed}\n  disabled={disabled}\n  class={classes}\n  {...props}\n>\n  <slot />\n</button>\n\n<script>\n  function initToggles() {\n    document.querySelectorAll('[data-toggle]').forEach(toggle => {\n      if (toggle.hasAttribute('data-initialized')) return;\n      toggle.setAttribute('data-initialized', 'true');\n      \n      toggle.addEventListener('click', () => {\n        const isPressed = toggle.getAttribute('aria-pressed') === 'true';\n        const newState = !isPressed;\n        \n        toggle.setAttribute('aria-pressed', String(newState));\n        toggle.setAttribute('data-state', newState ? 'on' : 'off');\n        \n        // Dispatch custom event\n        toggle.dispatchEvent(new CustomEvent('toggle', {\n          bubbles: true,\n          detail: { pressed: newState }\n        }));\n      });\n    });\n  }\n  \n  initToggles();\n  document.addEventListener('astro:page-load', initToggles);\n</script>\n"
    },
    {
      "name": "ToggleGroup.astro",
      "path": "toggle/ToggleGroup.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {\n  type?: \"single\" | \"multiple\";\n  variant?: \"default\" | \"outline\";\n  size?: \"sm\" | \"default\" | \"lg\";\n  orientation?: \"horizontal\" | \"vertical\";\n  disabled?: boolean;\n  defaultValue?: string | string[];\n}\n\nconst {\n  type = \"single\",\n  variant = \"default\",\n  size = \"default\",\n  orientation = \"horizontal\",\n  disabled = false,\n  defaultValue,\n  class: className,\n  ...props\n} = Astro.props;\n\nconst classes = cn(\n  \"inline-flex items-center\",\n  orientation === \"vertical\" && \"flex-col\",\n  className\n);\n---\n\n<div\n  role=\"group\"\n  data-toggle-group\n  data-type={type}\n  data-variant={variant}\n  data-size={size}\n  data-orientation={orientation}\n  data-disabled={disabled ? \"true\" : undefined}\n  data-default-value={Array.isArray(defaultValue) ? defaultValue.join(\",\") : defaultValue}\n  class={classes}\n  {...props}\n>\n  <slot />\n</div>\n\n<script>\n  function initToggleGroups() {\n    document.querySelectorAll('[data-toggle-group]').forEach(group => {\n      if (group.hasAttribute('data-initialized')) return;\n      group.setAttribute('data-initialized', 'true');\n      \n      const type = group.getAttribute('data-type') || 'single';\n      const variant = group.getAttribute('data-variant') || 'default';\n      const size = group.getAttribute('data-size') || 'default';\n      const isDisabled = group.getAttribute('data-disabled') === 'true';\n      const defaultValue = group.getAttribute('data-default-value');\n      \n      const items = group.querySelectorAll('[data-toggle-group-item]');\n      \n      // Apply variant and size to all items\n      items.forEach(item => {\n        item.setAttribute('data-variant', variant);\n        item.setAttribute('data-size', size);\n        \n        if (isDisabled) {\n          item.setAttribute('disabled', 'true');\n          item.setAttribute('data-disabled', 'true');\n        }\n      });\n      \n      // Set default values\n      if (defaultValue) {\n        const values = defaultValue.split(',');\n        items.forEach(item => {\n          const itemValue = item.getAttribute('data-value');\n          if (itemValue && values.includes(itemValue)) {\n            item.setAttribute('aria-pressed', 'true');\n            item.setAttribute('data-state', 'on');\n          }\n        });\n      }\n      \n      // Handle item clicks\n      items.forEach(item => {\n        item.addEventListener('click', (e) => {\n          e.stopPropagation();\n          \n          if (item.hasAttribute('disabled')) return;\n          \n          const isPressed = item.getAttribute('aria-pressed') === 'true';\n          \n          if (type === 'single') {\n            // Deselect all items\n            items.forEach(i => {\n              i.setAttribute('aria-pressed', 'false');\n              i.setAttribute('data-state', 'off');\n            });\n            \n            // Select clicked item (unless it was already selected)\n            if (!isPressed) {\n              item.setAttribute('aria-pressed', 'true');\n              item.setAttribute('data-state', 'on');\n            }\n          } else {\n            // Multiple selection - toggle the clicked item\n            const newState = !isPressed;\n            item.setAttribute('aria-pressed', String(newState));\n            item.setAttribute('data-state', newState ? 'on' : 'off');\n          }\n          \n          // Dispatch custom event with current values\n          const selectedValues: string[] = [];\n          items.forEach(i => {\n            if (i.getAttribute('aria-pressed') === 'true') {\n              const val = i.getAttribute('data-value');\n              if (val) selectedValues.push(val);\n            }\n          });\n          \n          group.dispatchEvent(new CustomEvent('toggle-group-change', {\n            bubbles: true,\n            detail: { \n              value: type === 'single' ? (selectedValues[0] || null) : selectedValues \n            }\n          }));\n        });\n      });\n    });\n  }\n  \n  initToggleGroups();\n  document.addEventListener('astro:page-load', initToggleGroups);\n</script>\n"
    },
    {
      "name": "ToggleGroupItem.astro",
      "path": "toggle/ToggleGroupItem.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"button\"> {\n  value: string;\n  variant?: \"default\" | \"outline\";\n  size?: \"sm\" | \"default\" | \"lg\";\n  disabled?: boolean;\n}\n\nconst {\n  value,\n  variant = \"default\",\n  size = \"default\",\n  disabled = false,\n  class: className,\n  ...props\n} = Astro.props;\n\nconst baseClasses = cn(\n  \"inline-flex items-center justify-center gap-2 text-sm font-medium\",\n  \"ring-offset-background transition-colors\",\n  \"hover:bg-muted hover:text-muted-foreground\",\n  \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n  \"disabled:pointer-events-none disabled:opacity-50\",\n  \"[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  // Pressed state - takes precedence over hover\n  \"data-[state=on]:bg-accent data-[state=on]:text-accent-foreground\"\n);\n\nconst variantClasses = {\n  default: \"border border-input bg-transparent\",\n  outline: \"border border-input bg-transparent\",\n};\n\nconst sizeClasses = {\n  sm: \"h-8 px-2 min-w-8\",\n  default: \"h-9 px-2.5 min-w-9\",\n  lg: \"h-10 px-3 min-w-10\",\n};\n\n// First and last item rounding, and negative margin to collapse borders\nconst classes = cn(\n  baseClasses,\n  variantClasses[variant],\n  sizeClasses[size],\n  // Rounded corners for first/last items\n  \"first:rounded-l-md last:rounded-r-md rounded-none\",\n  // Collapse borders - negative margin to overlap\n  \"-ml-px first:ml-0\",\n  className\n);\n---\n\n<button\n  type=\"button\"\n  data-toggle-group-item\n  data-value={value}\n  data-variant={variant}\n  data-size={size}\n  data-state=\"off\"\n  aria-pressed=\"false\"\n  disabled={disabled}\n  class={classes}\n  {...props}\n>\n  <slot />\n</button>\n"
    }
  ]
}
