{
  "name": "toast",
  "description": "A notification that appears temporarily",
  "category": "feedback",
  "dependencies": [],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "name": "Toast.astro",
      "path": "toast/Toast.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\nimport X from \"@lucide/astro/icons/x\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {\n  variant?: \"default\" | \"destructive\";\n}\n\nconst { variant = \"default\", class: className, ...props } = Astro.props;\n\nconst baseStyles =\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-lg border p-6 pr-8 shadow-lg transition-all\";\n\nconst variantStyles = {\n  default: \"bg-background text-foreground border\",\n  destructive:\n    \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n};\n\nconst classes = cn(baseStyles, variantStyles[variant], className);\n---\n\n<div class={classes} role=\"alert\" data-toast {...props}>\n  <slot />\n  <button\n    type=\"button\"\n    class=\"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100\"\n    data-toast-close\n  >\n    <X size={16} />\n  </button>\n</div>\n\n<script>\n  document.querySelectorAll(\"[data-toast-close]\").forEach((btn) => {\n    btn.addEventListener(\"click\", () => {\n      const toast = btn.closest(\"[data-toast]\");\n      if (toast) {\n        toast.remove();\n      }\n    });\n  });\n</script>\n"
    },
    {
      "name": "ToastDescription.astro",
      "path": "toast/ToastDescription.astro",
      "content": "---\nimport { cn } from '@/utils/cn';\nimport type { HTMLAttributes } from 'astro/types';\n\nexport interface Props extends HTMLAttributes<'div'> {}\n\nconst { class: className, ...props } = Astro.props;\n\nconst classes = cn('text-sm opacity-90', className);\n---\n\n<div class={classes} {...props}>\n  <slot />\n</div>\n"
    },
    {
      "name": "ToastTitle.astro",
      "path": "toast/ToastTitle.astro",
      "content": "---\nimport { cn } from '@/utils/cn';\nimport type { HTMLAttributes } from 'astro/types';\n\nexport interface Props extends HTMLAttributes<'div'> {}\n\nconst { class: className, ...props } = Astro.props;\n\nconst classes = cn('text-sm font-semibold', className);\n---\n\n<div class={classes} {...props}>\n  <slot />\n</div>\n"
    },
    {
      "name": "Toaster.astro",
      "path": "toast/Toaster.astro",
      "content": "---\nimport { cn } from \"@/utils/cn\";\nimport type { HTMLAttributes } from \"astro/types\";\n\nexport interface Props extends HTMLAttributes<\"div\"> {\n  position?:\n    | \"top-left\"\n    | \"top-center\"\n    | \"top-right\"\n    | \"bottom-left\"\n    | \"bottom-center\"\n    | \"bottom-right\";\n}\n\nconst { position = \"bottom-right\", class: className, ...props } = Astro.props;\n\nconst positionStyles = {\n  \"top-left\": \"top-4 left-4\",\n  \"top-center\": \"top-4 left-1/2 -translate-x-1/2\",\n  \"top-right\": \"top-4 right-4\",\n  \"bottom-left\": \"bottom-4 left-4\",\n  \"bottom-center\": \"bottom-4 left-1/2 -translate-x-1/2\",\n  \"bottom-right\": \"bottom-4 right-4\",\n};\n\nconst classes = cn(\n  \"fixed z-50 flex flex-col gap-2 w-full max-w-sm pointer-events-none\",\n  positionStyles[position],\n  className\n);\n---\n\n<div\n  id=\"toaster\"\n  class={classes}\n  data-toaster\n  data-position={position}\n  {...props}\n>\n</div>\n\n<script>\n  // Toast types\n  type ToastType = \"default\" | \"success\" | \"error\" | \"warning\" | \"info\";\n\n  interface ToastOptions {\n    title?: string;\n    description?: string;\n    type?: ToastType;\n    duration?: number;\n    action?: {\n      label: string;\n      onClick: () => void;\n    };\n  }\n\n  // Toast manager\n  class ToastManager {\n    private container: HTMLElement | null = null;\n\n    constructor() {\n      this.container = document.getElementById(\"toaster\");\n    }\n\n    private getIcon(type: ToastType): string {\n      const icons = {\n        default: \"\",\n        success: `<svg class=\"size-5 text-green-500 shrink-0\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"m9 12 2 2 4-4\"/></svg>`,\n        error: `<svg class=\"size-5 text-destructive shrink-0\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><line x1=\"12\" x2=\"12\" y1=\"8\" y2=\"12\"/><line x1=\"12\" x2=\"12.01\" y1=\"16\" y2=\"16\"/></svg>`,\n        warning: `<svg class=\"size-5 text-yellow-500 shrink-0\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\"/><path d=\"M12 9v4\"/><path d=\"M12 17h.01\"/></svg>`,\n        info: `<svg class=\"size-5 text-blue-500 shrink-0\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M12 16v-4\"/><path d=\"M12 8h.01\"/></svg>`,\n      };\n      return icons[type] || icons.default;\n    }\n\n    show(options: ToastOptions | string) {\n      if (!this.container) return;\n\n      const opts: ToastOptions =\n        typeof options === \"string\" ? { description: options } : options;\n\n      const {\n        title,\n        description,\n        type = \"default\",\n        duration = 4000,\n        action,\n      } = opts;\n\n      const toast = document.createElement(\"div\");\n      toast.className =\n        \"pointer-events-auto relative flex w-full items-start gap-3 overflow-hidden rounded-lg border bg-background p-4 shadow-lg transition-all\";\n      toast.setAttribute(\"role\", \"alert\");\n\n      const icon = this.getIcon(type);\n      const hasIcon = type !== \"default\";\n\n      toast.innerHTML = `\n        ${hasIcon ? icon : \"\"}\n        <div class=\"flex-1 space-y-1\">\n          ${title ? `<p class=\"text-sm font-semibold\">${title}</p>` : \"\"}\n          ${description ? `<p class=\"text-sm text-muted-foreground\">${description}</p>` : \"\"}\n          ${action ? `<button class=\"mt-2 text-sm font-medium underline underline-offset-4 hover:no-underline\" data-toast-action>${action.label}</button>` : \"\"}\n        </div>\n        <button type=\"button\" class=\"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none group-hover:opacity-100 hover:opacity-100\" data-toast-close>\n          <svg class=\"size-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M18 6 6 18\"/><path d=\"m6 6 12 12\"/></svg>\n        </button>\n      `;\n\n      // Add hover class for close button visibility\n      toast.classList.add(\"group\");\n\n      // Close button handler\n      const closeBtn = toast.querySelector(\"[data-toast-close]\");\n      closeBtn?.addEventListener(\"click\", () => this.dismiss(toast));\n\n      // Action button handler\n      if (action) {\n        const actionBtn = toast.querySelector(\"[data-toast-action]\");\n        actionBtn?.addEventListener(\"click\", () => {\n          action.onClick();\n          this.dismiss(toast);\n        });\n      }\n\n      this.container.appendChild(toast);\n\n      // Auto dismiss\n      if (duration > 0) {\n        setTimeout(() => this.dismiss(toast), duration);\n      }\n\n      return toast;\n    }\n\n    dismiss(toast: HTMLElement) {\n      toast.style.opacity = '0';\n      setTimeout(() => toast.remove(), 150);\n    }\n\n    success(options: Omit<ToastOptions, \"type\"> | string) {\n      const opts =\n        typeof options === \"string\" ? { description: options } : options;\n      return this.show({ ...opts, type: \"success\" });\n    }\n\n    error(options: Omit<ToastOptions, \"type\"> | string) {\n      const opts =\n        typeof options === \"string\" ? { description: options } : options;\n      return this.show({ ...opts, type: \"error\" });\n    }\n\n    warning(options: Omit<ToastOptions, \"type\"> | string) {\n      const opts =\n        typeof options === \"string\" ? { description: options } : options;\n      return this.show({ ...opts, type: \"warning\" });\n    }\n\n    info(options: Omit<ToastOptions, \"type\"> | string) {\n      const opts =\n        typeof options === \"string\" ? { description: options } : options;\n      return this.show({ ...opts, type: \"info\" });\n    }\n  }\n\n  // Initialize and expose globally\n  const toastManager = new ToastManager();\n\n  // @ts-ignore\n  window.toast = (options: ToastOptions | string) => toastManager.show(options);\n  // @ts-ignore\n  window.toast.success = (options: Omit<ToastOptions, \"type\"> | string) =>\n    toastManager.success(options);\n  // @ts-ignore\n  window.toast.error = (options: Omit<ToastOptions, \"type\"> | string) =>\n    toastManager.error(options);\n  // @ts-ignore\n  window.toast.warning = (options: Omit<ToastOptions, \"type\"> | string) =>\n    toastManager.warning(options);\n  // @ts-ignore\n  window.toast.info = (options: Omit<ToastOptions, \"type\"> | string) =>\n    toastManager.info(options);\n</script>\n"
    }
  ]
}
